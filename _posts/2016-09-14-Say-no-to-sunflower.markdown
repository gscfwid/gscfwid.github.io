---
layout: post
title: Say no to sunflower
data: 2016-09-14
categeries: computer
---
我一直热衷于弄远程控制，因为家里有一台台式机：三代i5，后来升级到256G的SSD和12G的双通道内存，还有曾经风靡一时的AMD 7850的性价比独立显卡。用起来非常得心应手。开机只需要5s，装了Total Commender和Autohotkey，以及dropbox，Rstudio，listery等等整个生态平台。但是我又不是随时在家里，笔记本用起来，体验太差，打开一个软件卡半天，受不了。

我本来以为有一台云服务器就可以摆脱这样的窘境，鼓弄了半天才发现，我需要的是给云服务器发放指令的机器，光是云服务器无法满足我的需求。于是将目标转移到了远程控制。

但我总不能一直让电脑开着吧？于是就有了远程开机，全网搜索，仿佛只有向日葵开机棒一款远程开机设备。Teamviewer，老牌的远程控制软件，但是貌似没有开机功能。

> 说到开机功能，这里要讲一下原理。

>1. 开机需要主板和网卡的支持。目前大部分品牌主机都具有这样的功能了：

>2. 设置需要去BIOS开启wake by PCI功能（不同的机器叫法不同），并且在需要在网络中设置如下：
![网络设置](http://ocmk8pdgu.bkt.clouddn.com/2300c99b7022fee36bcdaeb8c523f09d.png)

>3. 这些设置的意思是在你点shut down的时候，其实电源并没有完全关闭，还有部分主板功能在通电，比如集成的网卡，这样它就能接收由来自网线的magic包，从而对主板发出开机指令；

>4. 因此就需要有网络寻址，就是找到需要开机电脑的ip地址。对于公网用户（例如电信100M光纤到户，目前市场价1980/年），其ip地址一般是不变的，并且没有上级的路由器，可以利用“Wake on lan”这款软件直接发到当地的IP地址上；

>5. 但是对于拨号ADSL用户或者各种小区网络来说，很难实现，因为ip是变动的，因此需要域名解析，但是域名解析需要电脑开机，软件运行才可以。目前大部分路由器都是智能路由器，因此可以帮助电脑实现这个功能，解析后可通过路由器给局域网内的电脑发射magic包开机；

>6. 多级路由器，俗称内网，又遇到一个困难，需要做端口映射。因为你的电脑没有公网ip。譬如我们在一个小区，那么我们俩上网的公网ip地址是一样的，公网路由器通过不同端口发射到内网的ip地址，产生信号的交换。如果又是ADSL，又是内网，就只狗带了。遗憾的是，这就是我所在小区的网络。

听说向日葵开机棒后，去网上一搜价格，顿时傻眼：168元。一个解析域名的东东需要比市面上大多数的路由器都要贵吗？（它需要跟路由器合用）然而由于需求也只能买了。

用了几天差点没把我气死。首先是供电问题，供电不到5v的永远亮红灯；其次是路由器需要绑定ip地址才能保证它每次能找得到我的主机（也可能是我路由器的问题）；最后，经常莫名其妙红灯，红灯后远程无法开机。经常出现我远程点开后一直没反应，回家一看，艹，红灯。

盛怒，真的。首先绝对我花了168元买来的东西不应该是这样的。我一个创维mini电视盒子，100出头，各种功能，几乎没出现过问题。168听起来就是一个臆想出来的价格，完全不跟价格等同。

我在说说这家公司的其他产品。首屈一指的向日葵远程控制客户端，用起来真是卡得一逼。首先局域网之内控制都不能做到自动识别，让我用的想砸电脑；其次，说是免费版可以实现控制，但我打赌它绝对设定了网速控制，就让你买商业版；最后，设置分辨率花屏，许多功能都没有成熟就推出，下面一排菜单能用的没几个。总之，客户体验相当相当相当差。接下来说它的其他几个服务之一：花生壳域名解析。这个也是坑爹的货。号称可以穿透内网，免费版一个月就1G的流量还被骗了6块实名认证费用。

最后忍无可忍，将向日葵开机棒退货，向日葵软件卸载。我实在想不通这样的技术，这样的公司还能存活在这个社会。

不用远程控制后，我想尽了办法。我思索这个技术真的非常的简单，为什么网上很少有专业的去做呢？可能它的受众面窄，也许只有像我这种需要天天两头跑，主要的工作平台放在家里台式机的才有需求吧。某天突然觉得有的路由器可能可以支持，尤其是现在很火的只能路由器。网上一搜才知道很多路由器可以刷机，刷成基于linux内核的一些简单的只能操作系统，比如DDwrt，open wrt等，然后再实现。无意中搜到小米智能路由器，发现它有个插件可以实现：http://bbs.xiaomi.cn/t-11854668。然后上网一搜，有5GHz网络和802.11AC协议的，内存128M的小米路由器mini才129块钱，艹，可想而知那根黑棒子有多坑。

最后，搞定远程开机后，我体验了一下teamviewer的网速，再次想对向日葵说声“Fuck！”。

我记得之前网上看了一篇向日葵和teamviewer比较的文章：[向日葵远程控制软件：5个秘密功能比Teamviewer强大](http://www.ituring.com.cn/article/208505)。竟然说向日葵在5个方面都比teamviewer强大。这文章根本不是软文，绝对是硬广！
